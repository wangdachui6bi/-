(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6daadaa2"],{"2a5e":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"e",(function(){return s})),i.d(e,"g",(function(){return o})),i.d(e,"f",(function(){return c})),i.d(e,"c",(function(){return r})),i.d(e,"i",(function(){return l})),i.d(e,"b",(function(){return u})),i.d(e,"d",(function(){return d})),i.d(e,"h",(function(){return f}));i("1313");var n=i("b775"),a=function(){return Object(n["a"])("/banner")},s=function(t){return Object(n["a"])({method:"get",url:"/personalized?limit=".concat(t)})},o=function(){return Object(n["a"])("/recommend/resource")},c=function(t){return Object(n["a"])({method:"get",url:"/playlist/detail?id=".concat(t)})},r=function(t){return Object(n["a"])({method:"get",url:"/likelist?id=".concat(t)})},l=function(t,e){return Object(n["a"])({method:"get",url:"/like?id=".concat(t,"&like=").concat(e)})},u=function(t,e,i){return Object(n["a"])({method:"get",url:"/comment/hot?id=".concat(t,"&type=").concat(e,"&limit=").concat(i)})},d=function(t){var e=t.id,i=t.limit,a=void 0===i?20:i,s=t.page,o=void 0===s?0:s,c=t.before,r=void 0===c?0:c,l=o*a;return Object(n["a"])({method:"get",url:"/comment/playlist?id=".concat(e,"&limit=").concat(a,"&offset=").concat(l,"&before=").concat(r)})},f=function(t){var e=t.id,i=t.limit,a=void 0===i?30:i,s=t.page,o=void 0===s?0:s,c=o*a;return Object(n["a"])({method:"get",url:"/playlist/subscribers?id=".concat(e,"&limit=").concat(a,"&offset=").concat(c)})}},"2dcf":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"DailyRecom"},[i("div",{staticClass:"view-main mtop-20"},[i("el-skeleton",{attrs:{rows:6,animated:"",loading:t.loading}},[i("div",{staticClass:"info"},[i("div",{staticClass:"img-wrap"},[i("div",{staticClass:"day font-bold"},[t._v(" "+t._s((new Date).getDate().toString().padStart(2,0))+" ")])]),i("div",{staticClass:"text mleft-30 mtop-20"},[i("div",{staticClass:"font-24 font-bold"},[t._v("每日歌曲推荐")]),i("div",{staticClass:"desc mtop-10"},[t._v("根据你的音乐口味生成，每天6:00更新")])])]),i("div",{staticClass:"btn-wrap"},[i("div",{staticClass:"btn btn-red",on:{click:t.playListSongs}},[i("i",{staticClass:"iconfont icon-bofang1"}),t._v(" 播放全部 ")]),i("div",{staticClass:"btn btn-white mleft-12"},[i("i",{staticClass:"iconfont icon-tianjiawenjian"}),t._v(" 收藏全部 ")])]),i("div",{staticClass:"div-line mtop-20"}),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""},on:{"row-click":t.getOneSong}},[i("el-table-column",{attrs:{type:"index",width:"50"}}),i("el-table-column",{attrs:{prop:"favicon",width:"30"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{on:{click:function(i){return t.likeMusic(e.row)}}},[i("div",[e.row.isLiked?i("i",{staticClass:"iconfont icon-aixin1",staticStyle:{color:"red"}}):i("i",{staticClass:"iconfont icon-aixin"})])])]}}])}),i("el-table-column",{attrs:{prop:"name",label:"音乐标题",width:"211"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.name))]),1===e.row.fee?i("div",{staticClass:"vip-tag"},[t._v("VIP")]):t._e(),0!==e.row.mv?i("div",{staticClass:"vip-tag"},[t._v("MV")]):t._e()]}}])}),i("el-table-column",{attrs:{prop:"ar[0].name",label:"歌手",width:"80"}})],1)],1)],1)])},a=[],s=i("f9ea"),o=(i("e186"),i("1baf"),i("e456"),i("af46"),i("b775")),c=function(){return Object(o["a"])({method:"get",url:"/recommend/songs"})},r=i("2a5e"),l={name:"DailyRecom",data:function(){return{loading:!0,tableData:[],likeIdList:[],listSongMsg:[]}},methods:{getOneSong:function(t){if(this.isListenId!==t.id){this.$store.commit("songDetail/songAllMsg",t),this.isListenId=t.id;var e={};e.songName=t.name,e.singer=t.ar[0].name,e.id=t.id,e.picUrl=t.al.picUrl,this.songMsg=e,this.$store.dispatch("songDetail/getoneMusic",e),this.$store.commit("songDetail/setplayListTracks",[t])}else this.$store.state.songDetail.isPlay||this.$store.commit("songDetail/playback")},playListSongs:function(){this.$store.commit("songDetail/setSongList",this.listSongMsg),this.$store.dispatch("songDetail/getoneMusic",this.listSongMsg[0])},getLikeList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:i=e.sent,n=i.data.data.dailySongs,n.forEach((function(e){t.$set(e,"isLiked",t.isLiked(e.id)),t.tableData.push(e)})),t.tableData.forEach((function(e){var i={};i.songName=e.name,i.singer=e.ar[0].name,i.id=e.id,i.picUrl=e.al.picUrl,t.listSongMsg.push(i)})),t.$store.commit("songDetail/setplayListTracks",t.tableData);case 7:case"end":return e.stop()}}),e)})))()},getLikeIdList:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,Object(r["c"])(t);case 2:n=i.sent,e.likeIdList=n.data.ids,e.loading=!1;case 5:case"end":return i.stop()}}),i)})))()},isLiked:function(t){return-1!==this.likeIdList.indexOf(t)},likeMusic:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.isLiked=!t.isLiked,i.next=3,Object(r["i"])(t.id,t.isLiked);case 3:e.getLikeList(e.uid);case 4:case"end":return i.stop()}}),i)})))()}},created:function(){this.getLikeList(),this.getLikeIdList(this.uid)},computed:{uid:function(){return this.$store.state.login.profile.userId}}},u=l,d=(i("b9b8"),i("cba8")),f=Object(d["a"])(u,n,a,!1,null,null,null);e["default"]=f.exports},4645:function(t,e,i){},b9b8:function(t,e,i){"use strict";i("4645")}}]);
//# sourceMappingURL=chunk-6daadaa2.87538314.js.map