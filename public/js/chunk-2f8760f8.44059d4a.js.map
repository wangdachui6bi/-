{"version":3,"sources":["webpack:///./src/views/Video/index.vue?8d42","webpack:///./src/components/MV/mv.vue?80e0","webpack:///src/components/MV/mv.vue","webpack:///./src/components/MV/mv.vue?d0dc","webpack:///./src/components/MV/mv.vue","webpack:///src/views/Video/index.vue","webpack:///./src/views/Video/index.vue?ed32","webpack:///./src/views/Video/index.vue","webpack:///./src/views/Video/index.vue?19d9","webpack:///./src/components/MV/mv.vue?552b","webpack:///./src/api/Video/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","eleLoading","_e","model","value","callback","$$v","activeTop","expression","ref","on","$event","tabShow","_v","_s","msg","onClickTab","active","_l","item","index","key","name","getAllVideo","tag","class","borderCir","activity","clickChange","video","goDetail","data","vid","coverUrl","title","type","getMvNew","getMvWy","isHaveClick","getMvTop","staticRenderFns","MVGujia","activeMV","mv","turnToPlay","id","cover","artistName","props","Boolean","default","String","getMv","Function","newMVAll","created","methods","$router","push","component","hotcat","videoAll","loading","finishedText","offset","finished","check","allTag","components","MV","onLoad","setTimeout","mounted","getVideoHotTag","request","method","url","getVideoAlltag","getVideoByTag","getVideoUrl","getVideoDetail","getVideoLikeNumber","getVideoComment","getMvNewByArea","area","limit","encodeURIComponent","getMvWY","getMVTopArea"],"mappings":"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","file":"js/chunk-2f8760f8.44059d4a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Video\"},[_c('el-skeleton',{attrs:{\"rows\":6,\"animated\":\"\",\"loading\":_vm.eleLoading}},[(!_vm.eleLoading)?[_c('div',{staticClass:\"chooseType\"},[_c('van-tabs',{model:{value:(_vm.activeTop),callback:function ($$v) {_vm.activeTop=$$v},expression:\"activeTop\"}},[_c('van-tab',{attrs:{\"title\":\"视频\"}},[_c('div',{staticClass:\"Video-top\"},[_c('div',{staticClass:\"sheetdetail\"},[_c('button',{ref:\"clickbutton\",on:{\"click\":function($event){_vm.tabShow = !_vm.tabShow}}},[_vm._v(\" \"+_vm._s(_vm.msg)+\" \"),_c('i',{staticClass:\"iconfont icon icon-youjiantou1\"})]),_c('van-tabs',{on:{\"click\":_vm.onClickTab},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.hotcat),function(item,index){return _c('van-tab',{key:index,attrs:{\"title\":item.name}})}),1),(_vm.tabShow)?_c('div',{staticClass:\"totallist\"},[_c('div',[_c('p',[_c('span',{on:{\"click\":_vm.getAllVideo}},[_vm._v(\"全部视频\")])]),_c('ul',{staticClass:\"tabAll\"},_vm._l((_vm.allTag),function(tag,index){return _c('li',{key:index},[_c('span',{class:{ borderCir: tag.activity },on:{\"click\":function($event){return _vm.clickChange(tag)}}},[_vm._v(_vm._s(tag.name))])])}),0)])]):_vm._e()],1)]),_c('div',{staticClass:\"vdDetail\"},[_c('ul',_vm._l((_vm.videoAll),function(video,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.goDetail(video.data.vid)}}},[_c('div',{staticClass:\"vd\"},[_c('img',{attrs:{\"src\":video.data.coverUrl,\"alt\":\"\"}}),_c('p',[_vm._v(_vm._s(video.data.title))])])])}),0)])]),_c('van-tab',{staticClass:\"MVdetail\",attrs:{\"title\":\"MV\"}},[_c('MV',{attrs:{\"title\":_vm.type[0],\"getMv\":_vm.getMvNew}}),_c('MV',{attrs:{\"title\":_vm.type[1],\"getMv\":_vm.getMvWy,\"isHaveClick\":_vm.isHaveClick}}),_c('MV',{attrs:{\"title\":_vm.type[2],\"getMv\":_vm.getMvTop}})],1)],1)],1)]:_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"MV\"},[_c('button',{staticClass:\"newBtn\"},[_vm._v(_vm._s(_vm.title))]),(_vm.isHaveClick)?_c('van-tabs',{on:{\"click\":_vm.MVGujia},model:{value:(_vm.activeMV),callback:function ($$v) {_vm.activeMV=$$v},expression:\"activeMV\"}},[_c('van-tab',{attrs:{\"title\":\"内地\"}}),_c('van-tab',{attrs:{\"title\":\"港台\"}}),_c('van-tab',{attrs:{\"title\":\"欧美\"}}),_c('van-tab',{attrs:{\"title\":\"日本\"}}),_c('van-tab',{attrs:{\"title\":\"韩国\"}})],1):_vm._e(),_c('el-skeleton',{attrs:{\"rows\":6,\"animated\":\"\",\"loading\":_vm.eleLoading}},[(!_vm.eleLoading)?_c('div',{staticClass:\"mvDetail\"},[_c('ul',_vm._l((_vm.newMVAll),function(mv,index){return _c('li',{key:index},[_c('div',{staticClass:\"mvSingle\",on:{\"click\":function($event){return _vm.turnToPlay(mv.id)}}},[_c('img',{attrs:{\"src\":mv.cover,\"alt\":\"\"}}),_c('p',[_vm._v(_vm._s(mv.name))]),_c('p',[_vm._v(_vm._s(mv.artistName))])])])}),0)]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"MV\">\r\n    <button class=\"newBtn\">{{ title }}</button>\r\n    <van-tabs v-model=\"activeMV\" @click=\"MVGujia\" v-if=\"isHaveClick\">\r\n      <van-tab title=\"内地\"></van-tab>\r\n      <van-tab title=\"港台\"></van-tab>\r\n      <van-tab title=\"欧美\"></van-tab>\r\n      <van-tab title=\"日本\"></van-tab>\r\n      <van-tab title=\"韩国\"></van-tab>\r\n    </van-tabs>\r\n    <el-skeleton :rows=\"6\" animated :loading=\"eleLoading\">\r\n      <div v-if=\"!eleLoading\" class=\"mvDetail\">\r\n        <ul>\r\n          <li v-for=\"(mv, index) in newMVAll\" :key=\"index\">\r\n            <div class=\"mvSingle\" @click=\"turnToPlay(mv.id)\">\r\n              <img :src=\"mv.cover\" alt=\"\" />\r\n              <p>{{ mv.name }}</p>\r\n              <p>{{ mv.artistName }}</p>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </el-skeleton>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    isHaveClick: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    title: {\r\n      type: String\r\n    },\r\n    // 从父组件\r\n    getMv: {\r\n      type: Function,\r\n      default: () => {\r\n        return Function\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      activeMV: 0,\r\n      newMVAll: [],\r\n      eleLoading: true\r\n    }\r\n  },\r\n  created() {\r\n    this.MVGujia()\r\n  },\r\n  methods: {\r\n    turnToPlay(id) {\r\n      this.$router.push(`/videodetail/mv/${id}`)\r\n    },\r\n    async MVGujia(name, title) {\r\n      this.eleLoading = true\r\n      const res = await this.getMv(title)\r\n      this.newMVAll = res.data\r\n      this.eleLoading = false\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.MV {\r\n  padding: 0 20px 0 20px;\r\n  box-sizing: border-box;\r\n  .newBtn {\r\n    margin-top: 20px;\r\n    outline: 0;\r\n    border: 0;\r\n    color: #676767;\r\n    cursor: pointer;\r\n    font-size: 18px;\r\n    background-color: #fff;\r\n  }\r\n  .van-tabs {\r\n    .van-tabs__line {\r\n      background-color: #fff;\r\n    }\r\n    .van-tab--active {\r\n      .van-tab__text--ellipsis {\r\n        text-align: center;\r\n        display: block;\r\n        cursor: pointer;\r\n        padding: 4px 10px;\r\n        font-size: 14px;\r\n        color: red;\r\n        background-color: rgba(255, 182, 198, 0.2);\r\n        border-radius: 15px;\r\n      }\r\n    }\r\n  }\r\n  .mvDetail {\r\n    box-sizing: border-box;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n    ul {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      justify-content: space-between;\r\n      li {\r\n        width: 45%;\r\n        margin-bottom: 14px;\r\n        div {\r\n          img {\r\n            width: 100%;\r\n            height: 112px;\r\n          }\r\n        }\r\n        p {\r\n          margin: 0;\r\n          padding: 0;\r\n          overflow: hidden;\r\n          white-space: nowrap;\r\n          text-overflow: ellipsis;\r\n        }\r\n        p:first-of-type {\r\n          margin: 4px 0 4px 0;\r\n        }\r\n        span {\r\n          color: #e0e0e0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./mv.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./mv.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mv.vue?vue&type=template&id=b0106e38&\"\nimport script from \"./mv.vue?vue&type=script&lang=js&\"\nexport * from \"./mv.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mv.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"Video\">\r\n    <el-skeleton :rows=\"6\" animated :loading=\"eleLoading\">\r\n      <template v-if=\"!eleLoading\">\r\n        <div class=\"chooseType\">\r\n          <van-tabs v-model=\"activeTop\">\r\n            <van-tab title=\"视频\">\r\n              <div class=\"Video-top\">\r\n                <div class=\"sheetdetail\">\r\n                  <button ref=\"clickbutton\" @click=\"tabShow = !tabShow\">\r\n                    {{ msg }}\r\n                    <i class=\"iconfont icon icon-youjiantou1\"></i>\r\n                  </button>\r\n                  <van-tabs v-model=\"active\" @click=\"onClickTab\">\r\n                    <van-tab\r\n                      v-for=\"(item, index) in hotcat\"\r\n                      :title=\"item.name\"\r\n                      :key=\"index\"\r\n                    ></van-tab>\r\n                  </van-tabs>\r\n                  <div class=\"totallist\" v-if=\"tabShow\">\r\n                    <div>\r\n                      <p><span @click=\"getAllVideo\">全部视频</span></p>\r\n                      <ul class=\"tabAll\">\r\n                        <li v-for=\"(tag, index) in allTag\" :key=\"index\">\r\n                          <span\r\n                            :class=\"{ borderCir: tag.activity }\"\r\n                            @click=\"clickChange(tag)\"\r\n                            >{{ tag.name }}</span\r\n                          >\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"vdDetail\">\r\n                <ul>\r\n                  <li\r\n                    v-for=\"(video, index) in videoAll\"\r\n                    :key=\"index\"\r\n                    @click=\"goDetail(video.data.vid)\"\r\n                  >\r\n                    <!-- 数据在video.data -->\r\n                    <div class=\"vd\">\r\n                      <img :src=\"video.data.coverUrl\" alt=\"\" />\r\n                      <p>{{ video.data.title }}</p>\r\n                      <!-- <span>{{ \"by\" + video.data.creator.nickname }}</span> -->\r\n                    </div>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </van-tab>\r\n            <van-tab title=\"MV\" class=\"MVdetail\">\r\n              <MV :title=\"type[0]\" :getMv=\"getMvNew\"></MV>\r\n              <MV\r\n                :title=\"type[1]\"\r\n                :getMv=\"getMvWy\"\r\n                :isHaveClick=\"isHaveClick\"\r\n              ></MV>\r\n              <MV :title=\"type[2]\" :getMv=\"getMvTop\"></MV>\r\n            </van-tab>\r\n          </van-tabs>\r\n        </div>\r\n      </template>\r\n    </el-skeleton>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 视频\r\n// getVideoByTag\r\nimport { getVideoHotTag, getAllVideo, getVideoAlltag, getVideoByTag, getMvNewByArea, getMvWY, getMVTopArea } from '@/api/Video'\r\nimport MV from '@/components/MV/mv.vue'\r\nexport default {\r\n  name: \"Video\",\r\n  data() {\r\n    return {\r\n      activeTop: 0,\r\n      active: 0,\r\n      msg: \"全部视频\",\r\n      hotcat: [{ name: '' }],\r\n      videoAll: [],\r\n      eleLoading: true,\r\n      loading: false,\r\n      finishedText: '没有更多了',\r\n      offset: 0,\r\n      finished: false,\r\n      check: true,\r\n      allTag: [],\r\n      tabShow: false,\r\n      isHaveClick: false,\r\n      type: ['最新MV', '网易出品', 'MV排行榜']\r\n\r\n    }\r\n  },\r\n  components: {\r\n    MV\r\n  },\r\n  methods: {\r\n    async getMvNew(title = '内地') {\r\n      console.log(title)\r\n      const { data } = await getMvNewByArea(title)\r\n      return data\r\n    },\r\n    async getMvWy() {\r\n      const { data } = await getMvWY()\r\n      return data\r\n    },\r\n    async getMvTop(title = '内地') {\r\n      const { data } = await getMVTopArea(title)\r\n      return data\r\n    },\r\n    async clickChange(item) {\r\n      // 改变颜色\r\n      // 排他思想 所有的全部变为false\r\n      this.allTag.forEach((tag, index) => {\r\n        tag.activity = false\r\n      })\r\n      item.activity = !item.activity\r\n      this.msg = item.name\r\n      this.tabShow = false\r\n      var data = []\r\n      var offset = 0\r\n      for (var i = 0; i < 2; i++) {\r\n        const res = await getVideoByTag(item.id, offset)\r\n        data = data.concat(res.data.datas)\r\n        offset = offset + 8\r\n      }\r\n      this.videoAll = data\r\n    },\r\n    goDetail(id) {\r\n      this.$router.push(\"/videodetail/v/\" + id)\r\n    },\r\n    onLoad() {\r\n      setTimeout(() => {\r\n        this.getAllVideo(this.offset)\r\n      }, 2000)\r\n    },\r\n    // getVideoByTag\r\n    async onClickTab(name, title) {\r\n      this.msg = title\r\n      const catId = this.hotcat.find((item) => item.name === title)\r\n      var data = []\r\n      var offset = 0\r\n      for (var i = 0; i < 2; i++) {\r\n        const res = await getVideoByTag(catId.id, offset)\r\n        // concat对原数组无影响 会返回结合后的新数组\r\n        data = data.concat(res.data.datas)\r\n        offset += 8\r\n      }\r\n      this.videoAll = data\r\n    },\r\n    async getAllVideo() {\r\n      // 把这个设置成true再设置成false模板会在请求返回结果才重新解析\r\n      this.eleLoading = true\r\n      this.tabShow = false\r\n      const res = await getAllVideo(this.offset)\r\n      this.videoAll = res.data.datas\r\n      this.offset += 8\r\n      if (this.allTag.length !== 0) {\r\n        this.eleLoading = false\r\n        return 0\r\n      }\r\n      const allTag = await getVideoAlltag()\r\n      this.allTag = allTag.data.data\r\n      this.allTag.forEach(tag => {\r\n        tag.activity = false\r\n      })\r\n      this.eleLoading = false\r\n    }\r\n  },\r\n  created() {\r\n    this.getAllVideo()\r\n  },\r\n  mounted() {\r\n    getVideoHotTag().then((res) => {\r\n      this.hotcat = res.data.data\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.Video {\r\n  .Video-top {\r\n    box-sizing: border-box;\r\n    padding: 0;\r\n    .sheetdetail {\r\n      display: flex;\r\n      overflow: hidden;\r\n      margin-bottom: 10px;\r\n      button {\r\n        position: absolute;\r\n        z-index: 200;\r\n        float: left;\r\n        width: 122px;\r\n        text-align: center;\r\n        border-radius: 30px;\r\n        margin-top: 8px;\r\n        height: 36px;\r\n        border: none;\r\n      }\r\n      .van-tabs {\r\n        margin-left: 120px;\r\n      }\r\n      .totallist {\r\n        margin-top: 40px;\r\n        border-radius: 15px;\r\n        position: absolute;\r\n        padding: 0 20px 0 20px;\r\n        div {\r\n          box-sizing: border-box;\r\n          z-index: 9999;\r\n          box-shadow: 5px -5px 8px 0px rgba(0, 0, 0, 0.2),\r\n            -5px -5px 8px 0px rgba(0, 0, 0, 0.2);\r\n          background-color: #fff;\r\n          overflow: hidden;\r\n          .borderCir {\r\n            color: red;\r\n            background-color: rgba(255, 182, 198, 0.2);\r\n            border-radius: 15px;\r\n          }\r\n          p {\r\n            margin: 15px;\r\n            border-bottom: 1px solid #eee;\r\n            padding: 0px 0px 10px 10px;\r\n          }\r\n          ul.tabAll {\r\n            display: flex;\r\n            flex-wrap: wrap;\r\n            box-sizing: border-box;\r\n            padding-left: 30px;\r\n            li {\r\n              margin-bottom: 10px;\r\n              width: 26%;\r\n              margin-right: 20px;\r\n              span {\r\n                text-align: center;\r\n                display: block;\r\n                cursor: pointer;\r\n                padding: 4px 10px;\r\n                font-size: 14px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .vdDetail {\r\n    box-sizing: border-box;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n    ul {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      justify-content: space-between;\r\n      li {\r\n        width: 45%;\r\n        margin-bottom: 14px;\r\n        div {\r\n          img {\r\n            width: 100%;\r\n          }\r\n        }\r\n        p {\r\n          margin: 0;\r\n          padding: 0;\r\n          overflow: hidden;\r\n          white-space: nowrap;\r\n          text-overflow: ellipsis;\r\n        }\r\n        span {\r\n          color: #e0e0e0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1d611fe8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1d611fe8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d611fe8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@9.0.3@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1d611fe8&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@9.0.3@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./mv.vue?vue&type=style&index=0&lang=scss&\"","/* 视频分类 */\r\n\r\n/* 全部视频列表 */\r\n// export const getAllVideo = (offset) => get('/video/timeline/all', { offset })\r\n\r\n/* 根据标签获取视频列表 */\r\n// export const getVideoByTag = (id, offset) => get('/video/group', { id, offset })\r\n\r\n/* 视频热门分类 */\r\nimport request from '@/utils/request'\r\nexport const getVideoHotTag = () => {\r\n  return request({\r\n    method: 'get',\r\n    url: '/video/category/list'\r\n  })\r\n}\r\n/* 全部视频列表 */\r\nexport const getAllVideo = (offset = 0) => {\r\n  return request({\r\n    method: 'get',\r\n    url: `/video/timeline/all?offset=${offset}`\r\n  })\r\n}\r\n/* 视频分类 */\r\nexport const getVideoAlltag = () => {\r\n  return request({\r\n    method: 'get',\r\n    url: '/video/group/list'\r\n  })\r\n}\r\n/* 根据标签获取视频列表 */\r\n// /related/allvideo?id=89ADDE33C0AAE8EC14B99F6750DB954D\r\nexport const getVideoByTag = (id, offset) => {\r\n  return request({\r\n    method: 'get',\r\n    url: `/video/group?id=${id}&&offset=${offset}`\r\n  })\r\n}\r\n// 获取视频播放地址\r\nexport const getVideoUrl = (id) => {\r\n  return request({\r\n    method: 'get',\r\n    url: `/video/url?id=${id}`\r\n  })\r\n}\r\n\r\n// 获取视频详情\r\nexport const getVideoDetail = (id) => {\r\n  return request({\r\n    method: 'get',\r\n    url: `/video/detail?id=${id}`\r\n  })\r\n}\r\n\r\n// 获取视频点赞转发评论数据\r\nexport const getVideoLikeNumber = (id) => {\r\n  return request({\r\n    method: 'get',\r\n    url: `/video/detail/info?vid=${id}`\r\n  })\r\n}\r\n\r\n// 获取视频的评论 tid为type值 0: 歌曲 1mv 2歌单\r\nexport const getVideoComment = (id) => {\r\n  return request({\r\n    method: 'get',\r\n    url: `/comment/hot?id=${id}&type=5&limit=5`\r\n  })\r\n}\r\n// 根据arer 获取不同地区最新mv\r\nexport const getMvNewByArea = (area, limit = 8) => {\r\n  area = encodeURIComponent(area)\r\n  return request({\r\n    method: 'get',\r\n    url: `/mv/first?area=${area}&&limit=${limit}`\r\n  })\r\n}\r\n// 获取网易出品 mv\r\nexport const getMvWY = (limit = 8) => {\r\n  return request({\r\n    method: 'get',\r\n    url: `/mv/exclusive/rcmd?limit=${limit}`\r\n  })\r\n}\r\n\r\n// 获取不同area排行榜mv\r\nexport const getMVTopArea = (area, limit = 8) => {\r\n  area = encodeURIComponent(area)\r\n  return request({\r\n    method: 'get',\r\n    url: `/top/mv?area=${area}&&limit=${limit}`\r\n  })\r\n}"],"sourceRoot":""}