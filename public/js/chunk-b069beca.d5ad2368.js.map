{"version":3,"sources":["webpack:///./src/views/Login/index.vue?4b3b","webpack:///./src/views/Login/index.vue?a05f","webpack:///src/views/Login/index.vue","webpack:///./src/views/Login/index.vue?b122","webpack:///./src/views/Login/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","loginType","showindex","class","on","$event","createcode","onSubmit","attrs","required","pattern","message","model","value","callback","$$v","username","expression","password","staticStyle","_e","_m","isEffect","refreshQrcode","codeImg","codeStatus","identify","iscountdown","sendIdent","msg","checkIdent","staticRenderFns","Vue","name","data","timer","status","isSend","timerIdenify","ismsgRight","methods","checkIdentify","res","Toast","clearInterval","sendIdentify","values","login","code","sessionStorage","timeNow","Date","getcodekey","key","createcodemsg","checkcode","watch","newVal","oldVal","$router","push","component"],"mappings":"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","file":"js/chunk-b069beca.d5ad2368.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@9.0.3@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=f0ac98d6&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"containner\"},[_c('h1',[_vm._v(_vm._s(_vm.loginType[_vm.showindex])+\"登录\")]),_c('div',{staticClass:\"type-btn-wrap\"},[_c('button',{class:_vm.showindex === 0 ? 'active' : '',on:{\"click\":function($event){_vm.showindex = 0}}},[_vm._v(\" 手机号 \")]),_c('button',{class:_vm.showindex === 1 ? 'active' : '',on:{\"click\":function($event){_vm.createcode();\n            _vm.showindex = 1;}}},[_vm._v(\" 二维码 \")]),_c('button',{class:_vm.showindex === 2 ? 'active' : '',on:{\"click\":function($event){_vm.showindex = 2}}},[_vm._v(\" 验证码 \")])]),(_vm.showindex === 0)?_c('div',{staticClass:\"phoneLogin\"},[_c('van-form',{on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"name\":\"phone\",\"label\":\"手机号\",\"placeholder\":\"手机号\",\"rules\":[\n              { required: true, pattern: _vm.pattern, message: '请输入正确的手机号' } ]},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"name\":\"password\",\"label\":\"密码\",\"placeholder\":\"密码\",\"rules\":[{ required: true, message: '请填写密码' }]},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\" 登录 \")])],1)],1)],1):_vm._e(),(_vm.showindex === 1)?_c('div',{staticClass:\"codeLogin\"},[_c('div',{staticClass:\"codeqr\"},[_vm._m(0),(_vm.isEffect === false)?_c('div',{staticClass:\"btn-fresh\",on:{\"click\":_vm.refreshQrcode}},[_c('i',{staticClass:\"el-icon-refresh-left iconfresh\"})]):_vm._e()]),_c('div',{staticClass:\"codeImg\"},[_c('img',{attrs:{\"src\":_vm.codeImg,\"alt\":\"\"}})]),_c('p',{staticClass:\"status\"},[_vm._v(\"状态:\"+_vm._s(_vm.codeStatus))])]):_vm._e(),(_vm.showindex === 2)?_c('div',{staticClass:\"indentifyLogin\"},[_c('van-form',{on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"name\":\"phone\",\"label\":\"手机号\",\"placeholder\":\"手机号\",\"rules\":[\n              { required: true, pattern: _vm.pattern, message: '请输入正确的手机号' } ]},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('van-field',{attrs:{\"type\":\"text\",\"name\":\"identify\",\"label\":\"验证码\",\"placeholder\":\"请输入验证码\",\"rules\":[{ required: true }]},model:{value:(_vm.identify),callback:function ($$v) {_vm.identify=$$v},expression:\"identify\"}}),_c('div',{staticClass:\"getidentify\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\",\"disabled\":_vm.iscountdown},on:{\"click\":_vm.sendIdent}},[_vm._v(_vm._s(_vm.msg))])],1),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"button\"},on:{\"click\":_vm.checkIdent}},[_vm._v(\" 登录 \")])],1)],1)],1):_vm._e()])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\" 打开 \"),_c('a',{attrs:{\"href\":\"https://music.163.com/#/download\"}},[_vm._v(\"网易云音乐手机端\")]),_vm._v(\" 扫码登录 \")])}]\n\nexport { render, staticRenderFns }","\r\n<template>\r\n  <div class=\"login\">\r\n    <div class=\"wrap\">\r\n      <div class=\"containner\">\r\n        <h1>{{ loginType[showindex] }}登录</h1>\r\n        <div class=\"type-btn-wrap\">\r\n          <button\r\n            @click=\"showindex = 0\"\r\n            :class=\"showindex === 0 ? 'active' : ''\"\r\n          >\r\n            手机号\r\n          </button>\r\n          <button\r\n            @click=\"\r\n              createcode();\r\n              showindex = 1;\r\n            \"\r\n            :class=\"showindex === 1 ? 'active' : ''\"\r\n          >\r\n            二维码\r\n          </button>\r\n          <button\r\n            @click=\"showindex = 2\"\r\n            :class=\"showindex === 2 ? 'active' : ''\"\r\n          >\r\n            验证码\r\n          </button>\r\n        </div>\r\n        <div class=\"phoneLogin\" v-if=\"showindex === 0\">\r\n          <van-form @submit=\"onSubmit\">\r\n            <van-field\r\n              v-model=\"username\"\r\n              name=\"phone\"\r\n              label=\"手机号\"\r\n              placeholder=\"手机号\"\r\n              :rules=\"[\r\n                { required: true, pattern, message: '请输入正确的手机号' },\r\n              ]\"\r\n            />\r\n            <van-field\r\n              v-model=\"password\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              label=\"密码\"\r\n              placeholder=\"密码\"\r\n              :rules=\"[{ required: true, message: '请填写密码' }]\"\r\n            />\r\n            <div style=\"margin: 16px\">\r\n              <van-button round block type=\"info\" native-type=\"submit\">\r\n                登录\r\n              </van-button>\r\n            </div>\r\n          </van-form>\r\n        </div>\r\n        <div class=\"codeLogin\" v-if=\"showindex === 1\">\r\n          <div class=\"codeqr\">\r\n            <p>\r\n              打开\r\n              <a href=\"https://music.163.com/#/download\">网易云音乐手机端</a>\r\n              扫码登录\r\n            </p>\r\n            <div\r\n              class=\"btn-fresh\"\r\n              v-if=\"isEffect === false\"\r\n              @click=\"refreshQrcode\"\r\n            >\r\n              <i class=\"el-icon-refresh-left iconfresh\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"codeImg\">\r\n            <img :src=\"codeImg\" alt=\"\" />\r\n          </div>\r\n          <p class=\"status\">状态:{{ codeStatus }}</p>\r\n        </div>\r\n        <div class=\"indentifyLogin\" v-if=\"showindex === 2\">\r\n          <van-form @submit=\"onSubmit\">\r\n            <van-field\r\n              v-model=\"username\"\r\n              name=\"phone\"\r\n              label=\"手机号\"\r\n              placeholder=\"手机号\"\r\n              :rules=\"[\r\n                { required: true, pattern, message: '请输入正确的手机号' },\r\n              ]\"\r\n            />\r\n            <van-field\r\n              v-model=\"identify\"\r\n              type=\"text\"\r\n              name=\"identify\"\r\n              label=\"验证码\"\r\n              placeholder=\"请输入验证码\"\r\n              :rules=\"[{ required: true }]\"\r\n            />\r\n            <div class=\"getidentify\">\r\n              <el-button\r\n                type=\"primary\"\r\n                plain\r\n                @click=\"sendIdent\"\r\n                :disabled=\"iscountdown\"\r\n                >{{ msg }}</el-button\r\n              >\r\n            </div>\r\n            <div style=\"margin: 16px\">\r\n              <!-- 绑定验证验证码方法 -->\r\n              <van-button\r\n                round\r\n                block\r\n                type=\"info\"\r\n                native-type=\"button\"\r\n                @click=\"checkIdent\"\r\n              >\r\n                登录\r\n              </van-button>\r\n            </div>\r\n          </van-form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 引入Vant\r\nimport Vue from 'vue'\r\nimport { Form, Field, Toast } from 'vant'\r\n\r\n// 引入js-cookies\r\n// import Cookies from 'js-cookie'\r\n\r\n// 引入接口\r\nimport { login, getcodekey, createcodemsg, checkcode, sendIdentify, checkIdentify } from '@/api/login'\r\nVue.use(Toast)\r\nVue.use(Form)\r\nVue.use(Field)\r\n// 登录组件\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n      showindex: 0,\r\n      loginType: ['手机号', '二维码', '验证码'],\r\n      codeImg: '',\r\n      codeStatus: '请稍等一会儿',\r\n      timer: 0,\r\n      status: 0,\r\n      isEffect: false,\r\n      identify: '',\r\n      pattern: /^1(3|4|5|6|7|8|9)\\d{9}$/,\r\n      iscountdown: false,\r\n      isSend: false,\r\n      msg: '获取验证码',\r\n      timerIdenify: 0,\r\n      ismsgRight: false\r\n    }\r\n  },\r\n  methods: {\r\n    // 验证码匹配\r\n    async checkIdent() {\r\n      if (this.identify === '' && !this.pattern.test(this.username)) return\r\n      try {\r\n        const res = await checkIdentify(this.username, this.identify)\r\n        this.ismsgRight = res.data.data\r\n      } catch (error) {\r\n        Toast('验证码错误')\r\n      }\r\n    },\r\n    async sendIdent() {\r\n      // 如果手机号不正确则不能发送验证码\r\n      if (this.pattern.test(this.username)) {\r\n        this.msg = 60\r\n        // 点击一下变为计数状态 disabled属性生效\r\n        this.iscountdown = true\r\n        // 发送验证码开启倒计时\r\n        this.timerIdenify = setInterval(() => {\r\n          this.msg--\r\n          // 变到0 关闭计时器 变为可用\r\n          if (this.msg === 0) {\r\n            clearInterval(this.timerIdenify)\r\n            this.msg = '获取验证码'\r\n            this.iscountdown = false\r\n          }\r\n        }, 1000)\r\n        const res = await sendIdentify(this.username)\r\n        this.isSend = res.data.data\r\n        if (this.isSend) {\r\n          Toast('验证码发送成功')\r\n        } else {\r\n          Toast(res.data.message)\r\n        }\r\n      } else {\r\n        Toast('请输入正确的手机号')\r\n      }\r\n      return false\r\n    },\r\n    async onSubmit(values) {\r\n      const { data: { code, msg } } = await login(values)\r\n      if (code === 200) {\r\n        Toast(\"登录成功\")\r\n        sessionStorage.setItem(\"isLogin\", true)\r\n        this.$router.push(\"/\")\r\n      } else {\r\n        sessionStorage.setItem(\"isLogin\", false)\r\n        Toast(msg)\r\n      }\r\n    },\r\n    async createcode() {\r\n      // 如果二维码有效点了就没用\r\n      if (this.isEffect) return\r\n      this.isEffect = true\r\n      const timeNow = Date.now()\r\n      const res = await getcodekey(timeNow)\r\n      if (res.data.code !== 200) return\r\n      const key = res.data.data.unikey\r\n      createcodemsg(key, timeNow).then((resImg) => {\r\n        // 创建二维码的同时 进行查询二维码的状态\r\n        checkcode(key, timeNow).then((res) => {\r\n          this.codeImg = resImg.data.data.qrimg\r\n          this.codeStatus = res.data.message\r\n        })\r\n      })\r\n      // 轮询此接口可获取二维码扫码状态,\r\n      // 每次生成新的code的时候清除check的计时器\r\n      clearInterval(this.timer)\r\n      this.timer = setInterval((key) => {\r\n        // 每次check的时候时间戳都要为最新的\r\n        checkcode(key, Date.now()).then((res) => {\r\n          this.codeStatus = res.data.message\r\n          this.status = res.data.code\r\n        })\r\n      }, 1000, key)\r\n      // 生成后判断showIndex 是否显示的是code登录页面不是的话也要清除计时器\r\n      if (this.showindex !== 1) {\r\n        clearInterval(this.timer)\r\n      }\r\n    },\r\n    refreshQrcode() {\r\n      this.codeStatus = '请稍等更新中'\r\n      this.codeImg = ''\r\n      this.createcode()\r\n    }\r\n  },\r\n  watch: {\r\n    showindex(newVal, oldVal) {\r\n      // 每次切换到其他登录模式的时候关闭自动检查的定时器 再次点击二维码登录重新\r\n      // 获取新的二维码\r\n      clearInterval(this.timer)\r\n      if (newVal !== 1) {\r\n        this.codeImg = ''\r\n        this.isEffect = false\r\n      } else {\r\n        this.refreshQrcode()\r\n      }\r\n    },\r\n    // 监听二维码状态的变换 如果 为800了就可以点击刷新了\r\n    status(newVal) {\r\n      if (newVal === 800) {\r\n        // 失效了清空checkcode计时器\r\n        this.isEffect = false\r\n        clearInterval(this.timer)\r\n      } else if (newVal === 803) {\r\n        // 成功了也清空checkcode计时器\r\n        this.isEffect = false\r\n        clearInterval(this.timer)\r\n        Toast(\"登录成功\")\r\n        sessionStorage.setItem(\"isLogin\", true)\r\n        this.$router.push(\"/\")\r\n        // \r\n      }\r\n    },\r\n    ismsgRight(newVal) {\r\n      if (newVal) {\r\n        Toast(\"登录成功\")\r\n        sessionStorage.setItem(\"isLogin\", true)\r\n        this.$router.push(\"/\")\r\n      } else {\r\n        sessionStorage.setItem(\"isLogin\", false)\r\n        Toast('登录失败')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n  background-image: url(\"https://img0.baidu.com/it/u=3645292787,606932856&fm=26&fmt=auto?qq-pf-to=pcqq.group\");\r\n  .wrap {\r\n    background-color: #fff;\r\n    overflow: hidden;\r\n    border-radius: 20px;\r\n    width: 330px;\r\n    height: 500px;\r\n    margin: 30% auto;\r\n    .containner {\r\n      width: 274px;\r\n      height: 281px;\r\n      margin: 50px auto;\r\n      h1 {\r\n        text-align: center;\r\n        font-weight: normal;\r\n        margin-bottom: 40px;\r\n      }\r\n      .type-btn-wrap {\r\n        display: flex;\r\n        justify-content: center;\r\n        font-size: 16px;\r\n        margin-bottom: 20px;\r\n        button {\r\n          outline: 0;\r\n          border: 0;\r\n          color: #676767;\r\n          cursor: pointer;\r\n          background-color: #fff;\r\n        }\r\n        button.active {\r\n          font-weight: 700;\r\n        }\r\n        button.active::after {\r\n          content: \"\";\r\n          display: block;\r\n          width: 100%;\r\n          height: 2px;\r\n          background-color: rgb(0, 0, 0);\r\n        }\r\n      }\r\n      // 验证码登录\r\n      .codeLogin {\r\n        .codeqr,\r\n        p {\r\n          text-align: center;\r\n          margin: 0;\r\n          padding: 0;\r\n        }\r\n        .codeqr {\r\n          .btn-fresh {\r\n            margin-left: 60px;\r\n            position: absolute;\r\n            width: 160px;\r\n            height: 160px;\r\n            background-color: #ccc;\r\n            opacity: 0.8;\r\n            color: red;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            .iconfresh {\r\n              font-family: element-icons !important;\r\n              speak: none;\r\n              font-style: normal;\r\n              font-weight: 400;\r\n              font-variant: normal;\r\n              text-transform: none;\r\n              line-height: 1;\r\n              vertical-align: baseline;\r\n              display: inline-block;\r\n              -webkit-font-smoothing: antialiased;\r\n            }\r\n          }\r\n        }\r\n        .codeqr > p {\r\n          margin-top: 10px;\r\n        }\r\n        .codeImg {\r\n          margin-left: 60px;\r\n          img {\r\n            width: 160px;\r\n            height: 160px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f0ac98d6&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=f0ac98d6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f0ac98d6\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}