(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d4c3c99"],{"3ebe":function(t,e,n){},7049:function(t,e,n){"use strict";var a=n("7e70"),i=n("df65"),o=n("07d2"),r=n("37d2"),s=n("247f");a({target:"Array",proto:!0},{at:function(t){var e=i(this),n=o(e),a=r(t),s=a>=0?a:n+a;return s<0||s>=n?void 0:e[s]}}),s("at")},"89a0":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"VideoDetail"},[n("el-skeleton",{attrs:{rows:6,animated:"",loading:t.loading}},[t.loading?t._e():[n("h1",[t._v("←  视频详情")]),n("div",{staticClass:"playVideo"},[n("video",{attrs:{src:t.videoPlayDate.url,controls:"controls",width:"370px"}})]),n("div",{staticClass:"artistInfo"},[n("img",{attrs:{src:t.videoArtists.avatarUrl,alt:""}}),n("span",{staticClass:"nameInfo"},[t._v(t._s(t.videoArtists.nickname))])]),n("div",{staticClass:"mvN"},[t._v(t._s(t.videoDate.title))]),n("p",{staticClass:"number"},[n("span",[t._v("发布时间:"+t._s(t.publishTime))]),n("span",[t._v("播放次数:"+t._s(t._f("filterNumber")(t.videoDate.playTime))+"万")])]),n("div",{staticClass:"dz"},[n("button",[n("i",{staticClass:"icon iconfont icon-dianzan"}),t._v(" ("+t._s(t.dzData.likedCount)+") ")]),n("button",[n("i",{staticClass:"icon iconfont icon-tianjiawenjian"}),t._v(" "+t._s(t.dzData.commentCount)+" ")]),n("button",{staticClass:"pl"},[n("i",{staticClass:"icon iconfont icon-fenxiang mg",on:{click:function(e){t.showShare=!0}}}),t._v(" "+t._s(t.dzData.shareCount)+" "),n("div",[n("van-share-sheet",{attrs:{title:"立即分享给好友",options:t.options},on:{select:t.onSelect},model:{value:t.showShare,callback:function(e){t.showShare=e},expression:"showShare"}})],1)])]),n("p",[n("span",[t._v("评论("+t._s(t.dzData.commentCount)+")")])]),n("div",[n("van-field",{attrs:{rows:"2",autosize:"",type:"textarea",maxlength:"140",placeholder:"请输入留言","show-word-limit":"",label:t.at},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),n("div",{staticClass:"leavInfo"},[n("div",{staticClass:"leavInfo-left"},[n("span",{on:{click:t.inputLabel}},[t._v("@")]),n("span",{on:{click:t.inputLa}},[t._v("#")])]),n("button",[t._v("评论")])]),n("p",{staticClass:"comment"},[t._v("精彩评论")]),n("div",t._l(t.hotComments,(function(e){return n("div",{key:e.id,staticClass:"commitItem"},[n("img",{staticClass:"headPortrait",attrs:{src:e.user.avatarUrl,alt:""}}),n("div",{staticClass:"comment_main"},[n("div",[n("span",{staticClass:"user"},[t._v(t._s(e.user.nickname)+":")]),t._v(" "+t._s(e.content)+" ")]),n("div",{staticClass:"dzDetail"},[n("span",{staticClass:"time"},[t._v(t._s(e.timeStr))]),n("div",{staticClass:"rightIcon"},[n("span",{staticClass:"dzNumber"},[n("i",{staticClass:"icon iconfont icon-dianzan"}),t._v(" "+t._s(e.likedCount)+" ")]),n("div",{staticClass:"div-column"}),n("i",{staticClass:"icon iconfont icon-fenxiang"}),n("div",{staticClass:"div-column"}),n("i",{staticClass:"icon iconfont icon-jianyi fz19"})])])])])})),0)]],2)],1)},i=[],o=n("f9ea"),r=(n("7049"),n("f3db"),n("1baf"),n("e186"),n("c32d")),s=n.n(r),c=n("ee75"),u=n("3089"),d={name:"VideoDetail",data:function(){return{VideoId:this.$route.params.id,videoPlayDate:[],videoDate:[],videoArtists:{},dzData:{},at:"",loading:!0,message:"",videoComments:[],hotComments:[],showShare:!1,options:[{name:"微信",icon:"wechat"},{name:"微博",icon:"weibo"},{name:"复制链接",icon:"link"},{name:"分享海报",icon:"poster"},{name:"二维码",icon:"qrcode"}]}},created:function(){this.init()},computed:{publishTime:function(){return s()(this.videoDate.publishTime).format("YYYY-MM-DD hh:mm:ss")}},filters:{filterNumber:function(t){return parseInt(t/1e4)}},methods:{init:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getVideo(t.VideoId);case 2:return e.next=4,t.getVideoName(t.VideoId);case 4:return e.next=6,t.getVideoLikes(t.VideoId);case 6:return e.next=8,t.getComment(t.VideoId);case 8:t.loading=!1;case 9:case"end":return e.stop()}}),e)})))()},getVideo:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(c["k"])(t);case 2:a=n.sent,e.videoPlayDate=a.data.urls[0];case 4:case"end":return n.stop()}}),n)})))()},getComment:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(c["g"])(t);case 2:a=n.sent,e.hotComments=a.data.hotComments;case 4:case"end":return n.stop()}}),n)})))()},getVideoLikes:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(c["j"])(t);case 2:a=n.sent,e.dzData=a.data;case 4:case"end":return n.stop()}}),n)})))()},getVideoName:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(c["h"])(t);case 2:a=n.sent,e.videoArtists=a.data.data.creator,e.videoDate=a.data.data;case 5:case"end":return n.stop()}}),n)})))()},inputLabel:function(){this.at="@"},inputLa:function(){this.at="#想说啥#"},onSelect:function(t){Object(u["Toast"])(t.name),this.showShare=!1}}},l=d,m=(n("d0c4"),n("cba8")),v=Object(m["a"])(l,a,i,!1,null,"da0efcfe",null);e["default"]=v.exports},d0c4:function(t,e,n){"use strict";n("3ebe")},ee75:function(t,e,n){"use strict";n.d(e,"i",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return r})),n.d(e,"f",(function(){return s})),n.d(e,"k",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"j",(function(){return d})),n.d(e,"g",(function(){return l})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return v})),n.d(e,"b",(function(){return f}));n("1313");var a=n("b775"),i=function(){return Object(a["a"])({method:"get",url:"/video/category/list"})},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(a["a"])({method:"get",url:"/video/timeline/all?offset=".concat(t)})},r=function(){return Object(a["a"])({method:"get",url:"/video/group/list"})},s=function(t,e){return Object(a["a"])({method:"get",url:"/video/group?id=".concat(t,"&&offset=").concat(e)})},c=function(t){return Object(a["a"])({method:"get",url:"/video/url?id=".concat(t)})},u=function(t){return Object(a["a"])({method:"get",url:"/video/detail?id=".concat(t)})},d=function(t){return Object(a["a"])({method:"get",url:"/video/detail/info?vid=".concat(t)})},l=function(t){return Object(a["a"])({method:"get",url:"/comment/hot?id=".concat(t,"&type=5&limit=5")})},m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return t=encodeURIComponent(t),Object(a["a"])({method:"get",url:"/mv/first?area=".concat(t,"&&limit=").concat(e)})},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Object(a["a"])({method:"get",url:"/mv/exclusive/rcmd?limit=".concat(t)})},f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return t=encodeURIComponent(t),Object(a["a"])({method:"get",url:"/top/mv?area=".concat(t,"&&limit=").concat(e)})}},f3db:function(t,e,n){"use strict";var a=n("7e70"),i=n("add7"),o=n("0448"),r=n("37d2"),s=n("9145"),c=n("137b"),u=i("".charAt),d=c((function(){return"\ud842"!=="𠮷".at(-2)}));a({target:"String",proto:!0,forced:d},{at:function(t){var e=s(o(this)),n=e.length,a=r(t),i=a>=0?a:n+a;return i<0||i>=n?void 0:u(e,i)}})}}]);
//# sourceMappingURL=chunk-2d4c3c99.2cc4294e.js.map