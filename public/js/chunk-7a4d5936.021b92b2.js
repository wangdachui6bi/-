(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a4d5936"],{"018d":function(t,e,a){var n=a("33f5");t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},"14a9":function(t,e,a){"use strict";var n=a("71fe"),i=a("37d2"),r=a("9145"),s=a("0448"),c=n.RangeError;t.exports=function(t){var e=r(s(this)),a="",n=i(t);if(n<0||n==1/0)throw c("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(a+=e);return a}},"3fbf":function(t,e,a){var n=a("add7"),i=a("e536"),r=a("9145"),s=a("14a9"),c=a("0448"),o=n(s),l=n("".slice),u=Math.ceil,f=function(t){return function(e,a,n){var s,f,d=r(c(e)),b=i(a),m=d.length,g=void 0===n?" ":r(n);return b<=m||""==g?d:(s=b-m,f=o(g,u(s/g.length)),f.length>s&&(f=l(f,0,s)),t?d+f:f+d)}};t.exports={start:f(!1),end:f(!0)}},4331:function(t,e,a){},"758d":function(t,e,a){var n=a("137b");t.exports=n((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},8978:function(t,e,a){var n=a("7e70"),i=a("add7"),r=a("a1a4"),s=a("8c6b"),c=a("ec0b"),o=a("edd2").f,l=a("ff1e"),u=a("76bb"),f=a("dfa9"),d=a("0ad0"),b=a("bd38"),m=!1,g=d("meta"),p=0,h=function(t){o(t,g,{value:{objectID:"O"+p++,weakData:{}}})},v=function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!c(t,g)){if(!f(t))return"F";if(!e)return"E";h(t)}return t[g].objectID},w=function(t,e){if(!c(t,g)){if(!f(t))return!0;if(!e)return!1;h(t)}return t[g].weakData},y=function(t){return b&&m&&f(t)&&!c(t,g)&&h(t),t},k=function(){_.enable=function(){},m=!0;var t=l.f,e=i([].splice),a={};a[g]=1,t(a).length&&(l.f=function(a){for(var n=t(a),i=0,r=n.length;i<r;i++)if(n[i]===g){e(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},_=t.exports={enable:k,fastKey:v,getWeakData:w,onFreeze:y};r[g]=!0},"8cb5":function(t,e,a){"use strict";var n=a("add7"),i=a("f995").PROPER,r=a("0d5e"),s=a("986c"),c=a("8bc7"),o=a("9145"),l=a("137b"),u=a("8557"),f="toString",d=RegExp.prototype,b=d[f],m=n(u),g=l((function(){return"/a/b"!=b.call({source:"a",flags:"b"})})),p=i&&b.name!=f;(g||p)&&r(RegExp.prototype,f,(function(){var t=s(this),e=o(t.source),a=t.flags,n=o(void 0===a&&c(d,t)&&!("flags"in d)?m(t):a);return"/"+e+"/"+n}),{unsafe:!0})},9885:function(t,e,a){"use strict";var n=a("7e70"),i=a("3fbf").start,r=a("018d");n({target:"String",proto:!0,forced:r},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},bd2c:function(t,e,a){var n=a("7e70"),i=a("bd38"),r=a("137b"),s=a("8c6b"),c=a("8978").onFreeze,o=Object.freeze,l=r((function(){o(1)}));n({target:"Object",stat:!0,forced:l,sham:!i},{freeze:function(t){return o&&s(t)?o(c(t)):t}})},bd38:function(t,e,a){var n=a("137b");t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},cf2f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"newsongs"},[a("div",{staticClass:"songbutton"},[a("button",{ref:"btnnew",staticClass:"active",on:{click:function(e){t.btnclick(e),t.showFlag=!0,t.isalbum=!1}}},[t._v(" 新歌速递 ")]),a("button",{ref:"btnout",on:{click:function(e){t.btnclick(e),t.showFlag=!1,t.getnewalbum()}}},[t._v(" 新碟上架 ")])]),t.showFlag?a("div",{staticClass:"newsong"},[a("div",{staticClass:"songlistchoose"},[a("van-row",{attrs:{type:"flex"}},t._l(t.typelist,(function(e,n){return a("van-col",{key:n,ref:"btn"+n,refInFor:!0,class:n===t.active?"active":"",attrs:{span:"4"},on:{click:function(a){return a.target!==a.currentTarget?null:t.changetype(e.type,n)}}},[t._v(t._s(e.name))])})),1),a("div",{staticClass:"play-btn"},[a("i",{class:["el-icon-caret-right","active"]}),a("i",{staticClass:"el-icon-folder-add"})])],1),a("div",{staticClass:"songlistdetail"},t._l(t.typedata,(function(e,n){return a("ul",{key:n,staticClass:"newsongul",on:{click:function(a){return t.getOneSong(e)}}},[a("li",[t._v(t._s(e.keyI))]),a("li",[a("img",{attrs:{src:e.album.blurPicUrl,alt:""}})]),a("li",[t._v(t._s(e.name))]),a("li",[t._v(t._s(e.artists[0].name))]),a("li",[t._v(t._s(e.album.name))]),a("li",[t._v(t._s(t._f("playtime")(e.duration)))])])})),0)]):a("div",{staticClass:"newalbum"},[a("van-list",{staticClass:"albumlist",attrs:{finished:t.finished,"finished-text":t.weekDataalbum.length>0?"没有更多了":"正在加载中","immediate-check":t.check},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[a("ul",t._l(t.weekDataalbum,(function(e,n){return a("li",{key:n},[a("div",{staticClass:"albumimgli"},[a("img",{attrs:{src:e.blurPicUrl,alt:""},on:{click:function(a){return t.getTo("albumdetail",e.id)}}}),a("div",{staticClass:"play-btn"},[a("i",{staticClass:"el-icon-caret-right"})])]),a("div",[t._v(t._s(e.name))]),a("div",[t._v(t._s(e.artist.name))])])})),0)])],1)])},i=[],r=a("f9ea"),s=(a("e186"),a("9885"),a("e456"),a("8cb5"),a("1313"),a("1baf"),a("af46"),a("bd2c"),a("4f84"),a("b775")),c=function(t){return Object(s["a"])({method:"get",url:"/top/song?type=".concat(t)})},o=function(t){var e=t.limit,a=(t.offset,t.area,t.type),n=void 0===a?"All":a;t.year,t.month;return Object(s["a"])({method:"get",url:"/top/album?limit=".concat(e,"&type=").concat(n)})},l={name:"NewSongs",data:function(){return{typelist:[{name:"全部",type:0},{name:"华语",type:7},{name:"欧美",type:96},{name:"日本",type:8},{name:"韩国",type:16}],typedata:[],active:0,showFlag:!0,list:[],isalbum:!1,weekDataalbum:[],loading:!1,finished:!1,count:0,page:0,limit:30,wkalbumall:[],check:!0}},mounted:function(){this.changetype(0,0)},filters:{playtime:function(t){var e=parseInt(t/1e3/60).toString().padStart(2,0),a=parseInt(t/1e3%60).toString().padStart(2,0),n="".concat(e,":").concat(a);return n}},methods:{getOneSong:function(t){if(this.isListenId!==t.id){this.$store.commit("songDetail/songAllMsg",t),this.isListenId=t.id;var e={};t.ar=[],t.al={},t.ar.push({name:t.artists[0].name}),t.al.picUrl=t.album.blurPicUrl,e.songName=t.name,e.singer=t.ar[0].name,e.id=t.id,e.picUrl=t.album.blurPicUrl,this.songMsg=e,this.$store.dispatch("songDetail/getoneMusic",e),this.$store.commit("songDetail/setplayListTracks",[t])}this.$store.state.songDetail.isPlay||this.$store.commit("songDetail/playback")},getTo:function(t,e){this.$router.push(t+"/"+e)},btnclick:function(t){for(var e in this.$refs)this.$refs[e].className="";t.target.className="active"},changetype:function(t,e){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.active=e,n.next=3,c(t);case 3:i=n.sent,i.data.data.forEach((function(t,e){var n=(e+1).toString().padStart(2,0);t.keyI=n,t.album.name=t.album.name.substring(0,12),t.name=t.name.substring(0,12);var i=[];i.push({id:t.id,dt:t.duration,alia:t.alias,al:t.album,ar:t.artists,name:t.name,mv:t.mvid,fee:t.fee}),a.list=Object.freeze(i)})),a.typedata=i.data.data;case 6:case"end":return n.stop()}}),n)})))()},onLoad:function(){var t=this;setTimeout((function(){t.getpagealbum(),t.loading=!1,t.weekDataalbum.length>=t.count&&(t.finished=!0)}),2e3)},getnewalbum:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;this.isalbum||(this.isalbum=!0,o({limit:e}).then((function(e){t.wkalbumall=e.data.weekData,t.weekDataalbum=t.weekDataalbum.concat(t.wkalbumall.slice(0,30)),t.count+=e.data.weekData.length})))},getpagealbum:function(){this.page++,this.weekDataalbum=this.weekDataalbum.concat(this.wkalbumall.slice(this.page*this.limit,this.limit+this.page*this.limit))}}},u=l,f=(a("ded8"),a("cba8")),d=Object(f["a"])(u,n,i,!1,null,"2e42ae2d",null);e["default"]=d.exports},ded8:function(t,e,a){"use strict";a("4331")},dfa9:function(t,e,a){var n=a("137b"),i=a("8c6b"),r=a("3616"),s=a("758d"),c=Object.isExtensible,o=n((function(){c(1)}));t.exports=o||s?function(t){return!!i(t)&&((!s||"ArrayBuffer"!=r(t))&&(!c||c(t)))}:c}}]);
//# sourceMappingURL=chunk-7a4d5936.021b92b2.js.map